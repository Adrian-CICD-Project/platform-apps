# ============================================================================
# ArgoCD Repository Secrets - GitHub App Authentication
# ============================================================================
# IMPORTANT: This file is a TEMPLATE. Do NOT commit private keys here.
#
# The actual secrets should be provisioned via External Secrets Operator
# from Azure Key Vault. See: docs/external-secrets-setup.md
#
# For manual setup (temporary), create the secret directly in the cluster:
#   kubectl create secret generic repo-platform-apps \
#     --namespace argocd \
#     --from-literal=url=https://github.com/Adrian-CICD-Project/platform-apps.git \
#     --from-literal=type=git \
#     --from-literal=project=default \
#     --from-literal=githubAppID=<APP_ID> \
#     --from-literal=githubAppInstallationID=<INSTALLATION_ID> \
#     --from-file=githubAppPrivateKey=<PATH_TO_KEY_FILE>
#   kubectl label secret repo-platform-apps -n argocd argocd.argoproj.io/secret-type=repository
# ============================================================================
---
apiVersion: v1
kind: Secret
metadata:
  name: repo-platform-apps
  namespace: argocd
  labels:
    argocd.argoproj.io/secret-type: repository
type: Opaque
stringData:
  url: https://github.com/Adrian-CICD-Project/platform-apps.git
  type: git
  project: default
  githubAppID: "REPLACE_VIA_EXTERNAL_SECRET"
  githubAppInstallationID: "REPLACE_VIA_EXTERNAL_SECRET"
  githubAppPrivateKey: "REPLACE_VIA_EXTERNAL_SECRET"
---
apiVersion: v1
kind: Secret
metadata:
  name: repo-infrastructure-env-dev
  namespace: argocd
  labels:
    argocd.argoproj.io/secret-type: repository
type: Opaque
stringData:
  url: https://github.com/Adrian-CICD-Project/infrastructure-env-dev.git
  type: git
  project: default
  githubAppID: "REPLACE_VIA_EXTERNAL_SECRET"
  githubAppInstallationID: "REPLACE_VIA_EXTERNAL_SECRET"
  githubAppPrivateKey: "REPLACE_VIA_EXTERNAL_SECRET"
---
apiVersion: v1
kind: Secret
metadata:
  name: repo-infrastructure-env-test
  namespace: argocd
  labels:
    argocd.argoproj.io/secret-type: repository
type: Opaque
stringData:
  url: https://github.com/Adrian-CICD-Project/infrastructure-env-test.git
  type: git
  project: default
  githubAppID: "REPLACE_VIA_EXTERNAL_SECRET"
  githubAppInstallationID: "REPLACE_VIA_EXTERNAL_SECRET"
  githubAppPrivateKey: "REPLACE_VIA_EXTERNAL_SECRET"
---
apiVersion: v1
kind: Secret
metadata:
  name: repo-infrastructure-env-prod
  namespace: argocd
  labels:
    argocd.argoproj.io/secret-type: repository
type: Opaque
stringData:
  url: https://github.com/Adrian-CICD-Project/infrastructure-env-prod.git
  type: git
  project: default
  githubAppID: "REPLACE_VIA_EXTERNAL_SECRET"
  githubAppInstallationID: "REPLACE_VIA_EXTERNAL_SECRET"
  githubAppPrivateKey: "REPLACE_VIA_EXTERNAL_SECRET"
